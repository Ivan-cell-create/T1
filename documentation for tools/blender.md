# Работа и реализация скрипта blender.py

## Описание 

Этот скрипт используется для выбора нескольких текстовых файлов, объединения их содержимого, случайного перемешивания строк и записи результата в новый файл. Скрипт позволяет работать с текстовыми файлами формата .txt. Для выбора файлов используется графический интерфейс, а результаты сохраняются в новый файл с именем combined_shuffled.txt или с любым другим путем, указанным пользователем.

## Основные фуункции: 

1. **Выбор файлов**: Используется окно для выбора нескольких текстовых файлов.

2. **Чтение файлов**: Содержимое выбранных файлов считывается построчно.

3. **Перемешивание строк**: Все строки из файлов случайным образом перемешиваются.

4. **Запись в новый файл**: Результат записывается в новый текстовый файл.

## Программный код:

```python
import tkinter as tk
from tkinter import filedialog
import random

def select_files():
    root = tk.Tk()
    root.withdraw()
    file_paths = filedialog.askopenfilenames(filetypes=[("Text files", "*.txt")])
    return list(file_paths)

def read_files(file_paths):
    all_lines = []
    for path in file_paths:
        try:
            with open(path, 'r', encoding='utf-8') as f:
                all_lines.extend(f.readlines())
        except Exception as e:
            print(f"Ошибка при чтении файла {path}: {e}")
    return all_lines

def write_output(lines, output_path='combined_shuffled.txt'):
    with open(output_path, 'w', encoding='utf-8') as f:
        f.writelines(lines)
    print(f"Готово! Итог сохранён в: {output_path}")

def main():
    files = select_files()
    if not files:
        print("Файлы не выбраны.")
        return

    all_lines = read_files(files)
    random.shuffle(all_lines)
    write_output(all_lines)

if __name__ == "__main__":
    main()
```

## Пояснение работы скрипта:

1. **select_files** — Эта функция открывает графический интерфейс для выбора нескольких файлов. Она использует tkinter для создания окна выбора файлов. После выбора файлов возвращается список путей к этим файлам.

2. **read_files** — Эта функция читает содержимое выбранных файлов и собирает все строки в один список. Каждая строка из каждого файла добавляется в общий список all_lines.

3. **write_output** — После перемешивания строк, эта функция записывает результат в новый текстовый файл, указанный в параметре output_path (по умолчанию это 'combined_shuffled.txt'). Если файл был успешно записан, выводится сообщение об этом.

4. **main** — Основная функция, которая запускает весь процесс. Она вызывает функции для выбора файлов, чтения их содержимого, перемешивания строк и записи результата в файл.

## Примечание 

**Обработка ошибок**: Скрипт включает обработку исключений при чтении файлов. Если файл не удается открыть, выводится сообщение об ошибке.

**Перемешивание**: Все строки, собранные из выбранных файлов, перемешиваются случайным образом с использованием метода random.shuffle.

**Графический интерфейс**: Для выбора файлов используется библиотека tkinter. Убедитесь, что она установлена и доступна в вашей среде.

## Пример использования:

1. Запустите скрипт.

2. В появившемся окне выберите несколько текстовых файлов, которые хотите объединить и перемешать.

3. После завершения работы скрипт выведет сообщение с путем к новому файлу, содержащему перемешанные строки.